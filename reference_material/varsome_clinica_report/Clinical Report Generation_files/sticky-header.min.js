window.addEventListener("DOMContentLoaded",(function(){var element,target,HEADER_IS_STICKY_CLASS="header-is-sticky",SIDEBAR_IS_STICKY_CLASS="sidebar-is-sticky",SIDEBAR_HAS_REACHED_THE_FOOTER_CLASS="sidebar-has-reached-the-footer",DEFAULT_THEME_CLASS="kb-theme--default",TILES_THEME_CLASS="kb-theme--tiles",bodyElement=document.querySelector("body"),headerElement=document.querySelector("header"),searchSectionElement=document.querySelector(".kb-search-section"),breadcrumbsElement=document.querySelector(".kb-breadcrumbs"),categoryMenuElement=document.querySelector(".kb-category-menu"),sidebarElement=document.querySelector(".kb-category-menu > ul"),contentContainerElement=document.querySelector("main .content-container"),contentElement=document.querySelector(".kb-content"),stickyFooterElement=document.querySelector(".kb-sticky-footer"),headerHeight=headerElement?headerElement.getBoundingClientRect().height:0,breadcrumbsHeight=breadcrumbsElement?breadcrumbsElement.getBoundingClientRect().height:0,originalSidebarWidth=sidebarElement?sidebarElement.getBoundingClientRect().width:0,categoryElementMarginTop=categoryMenuElement?getStyleProp(categoryMenuElement,"margin-top"):0,breadcrumbDistanceToHeader=contentContainerElement?getStyleProp(contentContainerElement,"margin-top")+getStyleProp(contentContainerElement,"padding-top"):0,footerMarginTop=stickyFooterElement?getStyleProp(stickyFooterElement,"margin-top"):0,targetHeaderHeightWhenSticky=bodyElement.classList.contains(DEFAULT_THEME_CLASS)?155:150,distanceToScrolledHeader=(target=targetHeaderHeightWhenSticky,(element=headerElement).scrollTop+element.offsetHeight-target),sidebarWillBeSticky=getSidebarWillBeSticky();function toggleClassName(element,className,check){!element.classList.contains(className)&&check?element.classList.add(className):element.classList.contains(className)&&!check&&element.classList.remove(className)}function getStyleProp(element,styleProp){return parseInt(window.getComputedStyle(element).getPropertyValue(styleProp),10)}function getSearchSectionHeight(){return searchSectionElement?searchSectionElement.getBoundingClientRect().height:0}function getSidebarHeight(){return sidebarElement?sidebarElement.getBoundingClientRect().height:0}function getSidebarWillBeSticky(){return breadcrumbsHeight+categoryElementMarginTop+getSidebarHeight()<(contentElement?contentElement.getBoundingClientRect().height:0)}function hasScrolledPastTarget(target){return(window.pageYOffset||document.documentElement.scrollTop)>=target}function hasSidebarReachedTheFooter(){var currentStickyFooterTop=stickyFooterElement?stickyFooterElement.getBoundingClientRect().top:0,currentContentContainerBottom=contentContainerElement?contentContainerElement.getBoundingClientRect().bottom-getStyleProp(contentContainerElement,"padding-bottom"):0,target=bodyElement.classList.contains(TILES_THEME_CLASS)?currentContentContainerBottom:currentStickyFooterTop;return getSearchSectionHeight()+categoryElementMarginTop+getSidebarHeight()>=target}function manageStickyElements(){var headerIsSticky=hasScrolledPastTarget(distanceToScrolledHeader),sidebarIsSticky=hasScrolledPastTarget(distanceToScrolledHeader+breadcrumbDistanceToHeader+breadcrumbsHeight),sidebarHasReachedTheFooter=hasSidebarReachedTheFooter();if(toggleClassName(bodyElement,HEADER_IS_STICKY_CLASS,headerIsSticky),headerElement.style.height=headerIsSticky?headerHeight+"px":"",sidebarWillBeSticky)if(toggleClassName(bodyElement,SIDEBAR_IS_STICKY_CLASS,sidebarIsSticky&&!sidebarHasReachedTheFooter),toggleClassName(bodyElement,SIDEBAR_HAS_REACHED_THE_FOOTER_CLASS,sidebarIsSticky&&sidebarHasReachedTheFooter),sidebarIsSticky&&!sidebarHasReachedTheFooter)categoryMenuElement.style.top=getSearchSectionHeight()+"px",sidebarElement.style.width=originalSidebarWidth+"px";else if(sidebarHasReachedTheFooter){const stickyFooterOffset=stickyFooterElement.getBoundingClientRect().top-footerMarginTop;categoryMenuElement.style.top=getSearchSectionHeight()-(getSearchSectionHeight()+categoryElementMarginTop+getSidebarHeight()-stickyFooterOffset)+"px",sidebarElement.style.width=originalSidebarWidth+"px"}else categoryMenuElement.style.top="",sidebarElement.style.width="";else toggleClassName(bodyElement,SIDEBAR_IS_STICKY_CLASS,!1),toggleClassName(bodyElement,SIDEBAR_HAS_REACHED_THE_FOOTER_CLASS,!1),categoryMenuElement&&(categoryMenuElement.style.top=""),sidebarElement&&(sidebarElement.style.width="")}document.documentElement.clientWidth>1025&&(contentElement&&new MutationObserver((function(){sidebarWillBeSticky=getSidebarWillBeSticky(),manageStickyElements()})).observe(contentElement,{childList:!0,subtree:!0}),new ResizeObserver((()=>manageStickyElements())).observe(sidebarElement),window.onscroll=manageStickyElements,manageStickyElements())}));
//# sourceURL=https://cdn2.hubspot.net/hub/7052064/hub_generated/template_assets/1680798527006/hubspot/themes/knowledge/assets/sticky-header.js